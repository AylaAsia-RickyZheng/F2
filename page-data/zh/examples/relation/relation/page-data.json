{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-example-tsx","path":"/zh/examples/relation/relation","result":{"data":{"site":{"siteMetadata":{"title":"F2","githubUrl":"https://github.com/antvis/f2","examples":[{"slug":"gallery","icon":"gallery","title":{"zh":"Gallery","en":"Gallery"}},{"slug":"line","icon":"line","title":{"zh":"折线图","en":"Line Charts"}},{"slug":"area","icon":"area","title":{"zh":"面积图","en":"Area Charts"}},{"slug":"column","icon":"column","title":{"zh":"柱状图","en":"Column Charts"}},{"slug":"bar","icon":"bar","title":{"zh":"条形图","en":"Bar Charts"}},{"slug":"pie","icon":"pie","title":{"zh":"饼图","en":"Pie Charts"}},{"slug":"radar","icon":"radar","title":{"zh":"雷达图","en":"Radar Charts"}},{"slug":"point","icon":"point","title":{"zh":"点图","en":"Point Charts"}},{"slug":"funnel","icon":"funnel","title":{"zh":"漏斗图","en":"Funnel Charts"}},{"slug":"candlestick","icon":"candlestick","title":{"zh":"蜡烛图","en":"Candlestick Charts"}},{"slug":"relation","icon":"relation","title":{"zh":"关系图","en":"Relation Charts"}},{"slug":"heatmap","icon":"heatmap","title":{"zh":"热力图","en":"Heatmap Charts"}},{"slug":"component","icon":"component","title":{"zh":"功能组件","en":"Chart Components"}},{"slug":"other","icon":"other","title":{"zh":"其他图表","en":"Other Chart"}}],"playground":{"container":"\n        <div class=\"mobile-container\">\n          <div class=\"mobile-header\"></div>\n          <div class=\"mobile-content\">\n            <canvas id=\"container\"/>\n          </div>\n        </div>\n      ","playgroundDidMount":"window.initPlayground()","playgroundWillUnmount":null,"dependencies":null,"htmlCodeTemplate":null}},"pathPrefix":""},"allMarkdownRemark":{"edges":[{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/relation/relation"},"frontmatter":{"title":"矩形式树图","order":0,"icon":"relation"},"parent":{"__typename":"File","relativePath":"relation/relation/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/relation/relation"},"frontmatter":{"title":"treemap","order":0,"icon":"relation"},"parent":{"__typename":"File","relativePath":"relation/relation/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/radar/radar"},"frontmatter":{"title":"Basic Radar Chart","order":0,"icon":"radar"},"parent":{"__typename":"File","relativePath":"radar/radar/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/point/scatter"},"frontmatter":{"title":"Point Chart","order":0,"icon":"point"},"parent":{"__typename":"File","relativePath":"point/scatter/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/point/scatter"},"frontmatter":{"title":"点图","order":0,"icon":"point"},"parent":{"__typename":"File","relativePath":"point/scatter/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/radar/radar"},"frontmatter":{"title":"Basic Radar Chart","order":0,"icon":"radar"},"parent":{"__typename":"File","relativePath":"radar/radar/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/pie/basic"},"frontmatter":{"title":"Basic Pie Chart","order":0,"icon":"pie"},"parent":{"__typename":"File","relativePath":"pie/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/pie/basic"},"frontmatter":{"title":"基础饼图","order":0,"icon":"pie"},"parent":{"__typename":"File","relativePath":"pie/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/other/other"},"frontmatter":{"title":"词云图","order":0,"icon":"other"},"parent":{"__typename":"File","relativePath":"other/other/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/other/other"},"frontmatter":{"title":"Other Chart","order":0,"icon":"other"},"parent":{"__typename":"File","relativePath":"other/other/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/line/basic"},"frontmatter":{"title":"基础折线图","order":0,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/line/basic"},"frontmatter":{"title":"Basic Line Chart","order":0,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/heatmap/heatmap"},"frontmatter":{"title":"热力图","order":0,"icon":"heatmap"},"parent":{"__typename":"File","relativePath":"heatmap/heatmap/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/heatmap/heatmap"},"frontmatter":{"title":"Heatmap Chart","order":0,"icon":"heatmap"},"parent":{"__typename":"File","relativePath":"heatmap/heatmap/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/gallery/gauge"},"frontmatter":{"title":"Gauge","order":0,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/gauge/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/gallery/gauge"},"frontmatter":{"title":"半圆进度条","order":0,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/gauge/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/funnel/pyramid"},"frontmatter":{"title":"金字塔图","order":0,"icon":"funnel"},"parent":{"__typename":"File","relativePath":"funnel/pyramid/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/funnel/pyramid"},"frontmatter":{"title":"Pyramid Chart","order":0,"icon":"Funnel"},"parent":{"__typename":"File","relativePath":"funnel/pyramid/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/component/tooltip"},"frontmatter":{"title":"Tooltip","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/tooltip/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/funnel/basic"},"frontmatter":{"title":"基础漏斗图","order":0,"icon":"funnel"},"parent":{"__typename":"File","relativePath":"funnel/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/component/legend"},"frontmatter":{"title":"图例","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/legend/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/component/legend"},"frontmatter":{"title":"Legend","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/legend/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/component/tooltip"},"frontmatter":{"title":"Tooltip","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/tooltip/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/funnel/basic"},"frontmatter":{"title":"Basic Funnel Chart","order":0,"icon":"Funnel"},"parent":{"__typename":"File","relativePath":"funnel/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/component/image"},"frontmatter":{"title":"Image","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/image/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/component/image"},"frontmatter":{"title":"Image","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/image/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/component/guide"},"frontmatter":{"title":"Guide","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/guide/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/component/guide"},"frontmatter":{"title":"Guide","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/guide/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/component/axis"},"frontmatter":{"title":"Axis","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/axis/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/component/axis"},"frontmatter":{"title":"坐标轴","order":0,"icon":"component"},"parent":{"__typename":"File","relativePath":"component/axis/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/column/basic"},"frontmatter":{"title":"基础柱状图","order":0,"icon":"column"},"parent":{"__typename":"File","relativePath":"column/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/column/basic"},"frontmatter":{"title":"Basic Column Chart","order":0,"icon":"column"},"parent":{"__typename":"File","relativePath":"column/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/candlestick/basic"},"frontmatter":{"title":"蜡烛图","order":0,"icon":"candlestick"},"parent":{"__typename":"File","relativePath":"candlestick/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/candlestick/basic"},"frontmatter":{"title":"K Chart","order":0,"icon":"candlestick"},"parent":{"__typename":"File","relativePath":"candlestick/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/basic"},"frontmatter":{"title":"Basic Demo","order":0,"icon":"column"},"parent":{"__typename":"File","relativePath":"basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/basic"},"frontmatter":{"title":"基础演示","order":0,"icon":"column"},"parent":{"__typename":"File","relativePath":"basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/bar/basic"},"frontmatter":{"title":"基础条状图","order":0,"icon":"bar"},"parent":{"__typename":"File","relativePath":"bar/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/bar/basic"},"frontmatter":{"title":"Basic Bar Chart","order":0,"icon":"bar"},"parent":{"__typename":"File","relativePath":"bar/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/area/basic"},"frontmatter":{"title":"基础面积图","order":0,"icon":"area"},"parent":{"__typename":"File","relativePath":"area/basic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/area/basic"},"frontmatter":{"title":"Basic Area Chart","order":0,"icon":"area"},"parent":{"__typename":"File","relativePath":"area/basic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/pie/donut"},"frontmatter":{"title":"环形图","order":1,"icon":"pie"},"parent":{"__typename":"File","relativePath":"pie/donut/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/pie/donut"},"frontmatter":{"title":"Donut Chart","order":1,"icon":"pie"},"parent":{"__typename":"File","relativePath":"pie/donut/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/line/multiple"},"frontmatter":{"title":"Compare Line Chart","order":1,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/multiple/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/line/multiple"},"frontmatter":{"title":"对比折线图","order":1,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/multiple/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/gallery/forecast"},"frontmatter":{"title":"预测线","order":1,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/forecast/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/gallery/forecast"},"frontmatter":{"title":"预测线","order":1,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/forecast/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/column/dodge"},"frontmatter":{"title":"分组柱状图","order":1,"icon":"column"},"parent":{"__typename":"File","relativePath":"column/dodge/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/column/dodge"},"frontmatter":{"title":"Dodge Column Chart","order":1,"icon":"column"},"parent":{"__typename":"File","relativePath":"column/dodge/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/bar/stack"},"frontmatter":{"title":"Stack Bar Chart","order":1,"icon":"bar"},"parent":{"__typename":"File","relativePath":"bar/stack/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/bar/dodge"},"frontmatter":{"title":"分组条状图","order":1,"icon":"bar"},"parent":{"__typename":"File","relativePath":"bar/dodge/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/bar/dodge"},"frontmatter":{"title":"Dodge Bar Chart","order":1,"icon":"bar"},"parent":{"__typename":"File","relativePath":"bar/dodge/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/area/stacked"},"frontmatter":{"title":"Stacked Area Chart","order":1,"icon":"area"},"parent":{"__typename":"File","relativePath":"area/stacked/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/area/stacked"},"frontmatter":{"title":"层叠面积图","order":1,"icon":"area"},"parent":{"__typename":"File","relativePath":"area/stacked/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/pie/rose"},"frontmatter":{"title":"Nightingale Rose Chart","order":2,"icon":"pie"},"parent":{"__typename":"File","relativePath":"pie/rose/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/pie/rose"},"frontmatter":{"title":"南丁格尔玫瑰图","order":2,"icon":"pie"},"parent":{"__typename":"File","relativePath":"pie/rose/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/line/dynamic"},"frontmatter":{"title":"Dynamic Line Chart","order":2,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/dynamic/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/line/dynamic"},"frontmatter":{"title":"动态折线图","order":2,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/dynamic/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/gallery/steps-record"},"frontmatter":{"title":"健康步数","order":2,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/steps-record/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/gallery/steps-record"},"frontmatter":{"title":"健康步数","order":2,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/steps-record/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/column/stack"},"frontmatter":{"title":"Stack Column Chart","order":2,"icon":"column"},"parent":{"__typename":"File","relativePath":"column/stack/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/column/stack"},"frontmatter":{"title":"层叠柱状图","order":2,"icon":"column"},"parent":{"__typename":"File","relativePath":"column/stack/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/bar/stack"},"frontmatter":{"title":"层叠柱状图","order":2,"icon":"bar"},"parent":{"__typename":"File","relativePath":"bar/stack/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/line/other"},"frontmatter":{"title":"其他","order":3,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/other/index.zh.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/line/other"},"frontmatter":{"title":"Other","order":3,"icon":"line"},"parent":{"__typename":"File","relativePath":"line/other/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/en/examples/gallery/fitness-ring"},"frontmatter":{"title":"Apple Watch","order":3,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/fitness-ring/index.en.md"}}},{"node":{"htmlAst":{"type":"root","children":[],"data":{"quirksMode":false}},"fields":{"slug":"/zh/examples/gallery/fitness-ring"},"frontmatter":{"title":"Apple Watch 健身记录","order":3,"icon":"gallery"},"parent":{"__typename":"File","relativePath":"gallery/fitness-ring/index.zh.md"}}}]}},"pageContext":{"exampleSections":{"examples":[{"relativePath":"relation/relation/demo/treemap.js","absolutePath":"/Users/yuxi/Desktop/AntV/F2/examples/relation/relation/demo/treemap.js","order":0,"filename":"treemap.js","title":"矩形式树图","screenshot":"https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/586af851-f89e-4dd4-9b96-f2037b65df3e.png","source":"import F2 from '@antv/f2';\nimport '@antv/data-set';\nconst DataSet = window.DataSet;\n\nconst {\n  Shape,\n  Util\n} = F2;\n\n\nShape.registerShape('polygon', 'labeledPolygon', {\n  draw: function draw(cfg, container) {\n    const points = this.parsePoints(cfg.points);\n    const style = Util.mix({\n      fill: cfg.color,\n      points\n    }, cfg.style);\n    const polygon = container.addShape('Polygon', {\n      className: 'polygon',\n      attrs: style\n    });\n    // 在 polygon 的中心添加文本\n    const text = container.addShape('Text', {\n      // className: 'polygon',\n      attrs: {\n        x: (points[0].x + points[2].x) / 2,\n        y: (points[0].y + points[2].y) / 2,\n        text: cfg.origin._origin.name,\n        fill: '#fff',\n        textAlign: 'center',\n        textBaseline: 'middle',\n        fontSize: 12\n      }\n    });\n\n    const polygonBBox = polygon.getBBox();\n    const textBBox = text.getBBox();\n\n    // 这里为了让文本显示全，根据文本和矩形框的宽度比来设置文本大小\n    const ratio = polygonBBox.width / textBBox.width;\n    text.attr('fontSize', ratio * 12 * 0.6);\n\n    return [ polygon, text ];\n  }\n});\n\nconst data = {\n  name: 'root',\n  children: [{\n    name: '分类 1',\n    value: 560\n  }, {\n    name: '分类 2',\n    value: 500\n  }, {\n    name: '分类 3',\n    value: 150\n  }, {\n    name: '分类 4',\n    value: 140\n  }, {\n    name: '分类 5',\n    value: 115\n  }, {\n    name: '分类 6',\n    value: 95\n  }, {\n    name: '分类 7',\n    value: 90\n  }, {\n    name: '分类 8',\n    value: 75\n  }, {\n    name: '分类 9',\n    value: 98\n  }, {\n    name: '分类 10',\n    value: 60\n  }, {\n    name: '分类 11',\n    value: 45\n  }, {\n    name: '分类 12',\n    value: 40\n  }, {\n    name: '分类 13',\n    value: 40\n  }, {\n    name: '分类 14',\n    value: 35\n  }, {\n    name: '分类 15',\n    value: 40\n  }, {\n    name: '分类 16',\n    value: 40\n  }, {\n    name: '分类 17',\n    value: 40\n  }, {\n    name: '分类 18',\n    value: 30\n  }, {\n    name: '分类 19',\n    value: 28\n  }, {\n    name: '分类 20',\n    value: 16\n  }]\n};\nconst dv = new DataSet.DataView();\ndv.source(data, {\n  type: 'hierarchy'\n}).transform({\n  field: 'value',\n  type: 'hierarchy.treemap',\n  tile: 'treemapResquarify',\n  as: [ 'x', 'y' ]\n});\nconst nodes = dv.getAllNodes();\nnodes.map(function(node) {\n  node.name = node.data.name;\n  node.value = node.data.value;\n  return node;\n});\n\nconst chart = new F2.Chart({\n  id: 'container',\n  padding: 20,\n  pixelRatio: window.devicePixelRatio\n});\nchart.source(nodes);\nchart.scale({\n  value: {\n    nice: false\n  }\n});\nchart.axis(false);\nchart.legend(false);\nchart.tooltip(false);\nchart.polygon()\n  .position('x*y')\n  .color('name')\n  .shape('labeledPolygon')\n  .style({\n    lineWidth: 1,\n    stroke: '#fff'\n  });\nchart.render();\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/f2\", \"@antv/data-set\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/f2\"), require(\"@antv/data-set\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.f2, global.dataSet);\n    global.treemap = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_f, _dataSet) {\n  \"use strict\";\n\n  _f = _interopRequireDefault(_f);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var DataSet = window.DataSet;\n  var Shape = _f.default.Shape,\n      Util = _f.default.Util;\n  Shape.registerShape('polygon', 'labeledPolygon', {\n    draw: function draw(cfg, container) {\n      var points = this.parsePoints(cfg.points);\n      var style = Util.mix({\n        fill: cfg.color,\n        points: points\n      }, cfg.style);\n      var polygon = container.addShape('Polygon', {\n        className: 'polygon',\n        attrs: style\n      }); // 在 polygon 的中心添加文本\n\n      var text = container.addShape('Text', {\n        // className: 'polygon',\n        attrs: {\n          x: (points[0].x + points[2].x) / 2,\n          y: (points[0].y + points[2].y) / 2,\n          text: cfg.origin._origin.name,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle',\n          fontSize: 12\n        }\n      });\n      var polygonBBox = polygon.getBBox();\n      var textBBox = text.getBBox(); // 这里为了让文本显示全，根据文本和矩形框的宽度比来设置文本大小\n\n      var ratio = polygonBBox.width / textBBox.width;\n      text.attr('fontSize', ratio * 12 * 0.6);\n      return [polygon, text];\n    }\n  });\n  var data = {\n    name: 'root',\n    children: [{\n      name: '分类 1',\n      value: 560\n    }, {\n      name: '分类 2',\n      value: 500\n    }, {\n      name: '分类 3',\n      value: 150\n    }, {\n      name: '分类 4',\n      value: 140\n    }, {\n      name: '分类 5',\n      value: 115\n    }, {\n      name: '分类 6',\n      value: 95\n    }, {\n      name: '分类 7',\n      value: 90\n    }, {\n      name: '分类 8',\n      value: 75\n    }, {\n      name: '分类 9',\n      value: 98\n    }, {\n      name: '分类 10',\n      value: 60\n    }, {\n      name: '分类 11',\n      value: 45\n    }, {\n      name: '分类 12',\n      value: 40\n    }, {\n      name: '分类 13',\n      value: 40\n    }, {\n      name: '分类 14',\n      value: 35\n    }, {\n      name: '分类 15',\n      value: 40\n    }, {\n      name: '分类 16',\n      value: 40\n    }, {\n      name: '分类 17',\n      value: 40\n    }, {\n      name: '分类 18',\n      value: 30\n    }, {\n      name: '分类 19',\n      value: 28\n    }, {\n      name: '分类 20',\n      value: 16\n    }]\n  };\n  var dv = new DataSet.DataView();\n  dv.source(data, {\n    type: 'hierarchy'\n  }).transform({\n    field: 'value',\n    type: 'hierarchy.treemap',\n    tile: 'treemapResquarify',\n    as: ['x', 'y']\n  });\n  var nodes = dv.getAllNodes();\n  nodes.map(function (node) {\n    node.name = node.data.name;\n    node.value = node.data.value;\n    return node;\n  });\n  var chart = new _f.default.Chart({\n    id: 'container',\n    padding: 20,\n    pixelRatio: window.devicePixelRatio\n  });\n  chart.source(nodes);\n  chart.scale({\n    value: {\n      nice: false\n    }\n  });\n  chart.axis(false);\n  chart.legend(false);\n  chart.tooltip(false);\n  chart.polygon().position('x*y').color('name').shape('labeledPolygon').style({\n    lineWidth: 1,\n    stroke: '#fff'\n  });\n  chart.render();\n});"}]}}}}